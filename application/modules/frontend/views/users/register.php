<div class="container">
  	<div class="register">
    	<div class="row">
       		<div class="col-lg-7 col-md-7 col-sm-7">
           		<h1>Create your Phynart Account</h1>
       		</div>
       		<div class="col-lg-5 col-md-5 col-sm-5 text-right time">
         		<p>To successfully create a new account you need to finish the registration in next </p>
         		<h3><span id="timer"> </span> min</h3>
       		</div>
    	</div>
    	<h2>Registration</h2>
     	<form>
	       	<div class="form-inline">
	       		<p class="invalid-msg" id="first_name-error">First Name Required</p>
	          	<div class="form-group">
	              	<input type="text" class="form-control" id="first_name" placeholder="First Name" name="first_name" />
	          	</div>
	          	<div class="form-group">
	              <input type="text" class="form-control" id="last_name" placeholder="Last Name" name="last_name">
	          	</div>
	     	</div>
	       	<div class="form-inline">
	       		<p class="invalid-msg" id="gender-error">Please select gender</p>
	          	<div class="radio">
	              	<label><input type="radio" name="optradio">Male</label>
	            </div>
	            <div class="radio">
	              	<label><input type="radio" name="optradio">Female</label>
	            </div>
	             <div class="radio">
	              	<label><input type="radio" name="optradio">Other</label>
	            </div>
	      	</div>
			<div class="form-inline">
				<p class="invalid-msg" id="dob-error">Please select date of birth</p>
			  	<div class="inline-flex">
					<span>
				     	<select name="day" id="day">
				         	<option selected="true" disabled="disabled">Date</option>
				          	<option value="01">01</option>
				          	<option value="02">02</option>
				          	<option value="03">03</option>
				          	<option value="04">04</option>
				          	<option value="05">05</option>
				          	<option value="06">06</option>
				          	<option value="07">07</option>
				          	<option value="08">08</option>
				          	<option value="09">09</option>
				          	<option value="10">10</option>
				          	<option value="11">11</option>
				          	<option value="12">12</option>
				          	<option value="13">13</option>
				          	<option value="14">14</option>
				          	<option value="15">15</option>
				          	<option value="16">16</option>
				          	<option value="17">17</option>
				          	<option value="18">18</option>
				          	<option value="19">19</option>
				          	<option value="20">20</option>
				          	<option value="21">21</option>
				          	<option value="22">22</option>
				          	<option value="23">23</option>
				          	<option value="24">24</option>
				          	<option value="25">25</option>
				          	<option value="26">26</option>
				          	<option value="27">27</option>
				          	<option value="28">28</option>
				          	<option value="29">29</option>
				          	<option value="30">30</option>
				          	<option value="31">31</option>
				     	</select>
					</span>
			      	<span>
			     		<select name="month" id="month">
			       			<option selected="true" disabled="disabled">Month</option>
			        		<option value="01">January</option>
					        <option value="02">February</option>
					        <option value="03">March</option>
					        <option value="04">April</option>
					        <option value="05">May</option>
					        <option value="06">June</option>
					        <option value="07">July</option>
					        <option value="08">August</option>
					        <option value="09">September</option>
					        <option value="10">October</option>
					        <option value="11">November</option>
					        <option value="12">December</option>
			     		</select> 
					</span>
					<span>
			     		<select name="year" id="year">
				          	<option selected="true" disabled="disabled">Year</option>
				          	<option value="2014">2014</option>
				          	<option value="2013">2013</option>
				          	<option value="2012">2012</option>
				          	<option value="2011">2011</option>
				          	<option value="2010">2010</option>
				          	<option value="2009">2009</option>
				          	<option value="2008">2008</option>
				          	<option value="2007">2007</option>
				          	<option value="2006">2006</option>
				          	<option value="2005">2005</option>
				          	<option value="2004">2004</option>
				          	<option value="2003">2003</option>
				          	<option value="2002">2002</option>
				          	<option value="2001">2001</option>
				          	<option value="2000">2000</option>
				          	<option value="1999">1999</option>
				          	<option value="1998">1998</option>
				          	<option value="1997">1997</option>
				          	<option value="1996">1996</option>
				          	<option value="1995">1995</option>
				          	<option value="1994">1994</option>
				          	<option value="1993">1993</option>
				          	<option value="1992">1992</option>
				          	<option value="1991">1991</option>
				          	<option value="1990">1990</option>
				          	<option value="1989">1989</option>
				          	<option value="1988">1988</option>
				          	<option value="1987">1987</option>
				          	<option value="1986">1986</option>
				          	<option value="1985">1985</option>
				          	<option value="1984">1984</option>
				          	<option value="1983">1983</option>
				          	<option value="1982">1982</option>
				          	<option value="1981">1981</option>
				          	<option value="1980">1980</option>
				          	<option value="1979">1979</option>
				          	<option value="1978">1978</option>
				          	<option value="1977">1977</option>
				          	<option value="1976">1976</option>
				          	<option value="1975">1975</option>
				          	<option value="1974">1974</option>
				          	<option value="1973">1973</option>
				          	<option value="1972">1972</option>
				          	<option value="1971">1971</option>
				          	<option value="1970">1970</option>
				          	<option value="1969">1969</option>
				          	<option value="1968">1968</option>
				          	<option value="1967">1967</option>
				          	<option value="1966">1966</option>
				          	<option value="1965">1965</option>
				          	<option value="1964">1964</option>
				          	<option value="1963">1963</option>
				          	<option value="1962">1962</option>
				          	<option value="1961">1961</option>
				          	<option value="1960">1960</option>
				          	<option value="1959">1959</option>
				          	<option value="1958">1958</option>
				          	<option value="1957">1957</option>
				          	<option value="1956">1956</option>
				          	<option value="1955">1955</option>
				          	<option value="1954">1954</option>
				          	<option value="1953">1953</option>
				          	<option value="1952">1952</option>
				          	<option value="1951">1951</option>
				          	<option value="1950">1950</option>
				          	<option value="1949">1949</option>
				          	<option value="1948">1948</option>
				          	<option value="1947">1947</option>
				          	<option value="1946">1946</option>
				          	<option value="1945">1945</option>
				          	<option value="1944">1944</option>
				          	<option value="1943">1943</option>
				          	<option value="1942">1942</option>
				          	<option value="1941">1941</option>
				          	<option value="1940">1940</option>
				          	<option value="1939">1939</option>
				          	<option value="1938">1938</option>
				          	<option value="1937">1937</option>
				          	<option value="1936">1936</option>
				          	<option value="1935">1935</option>
				          	<option value="1934">1934</option>
				          	<option value="1933">1933</option>
				          	<option value="1932">1932</option>
				          	<option value="1931">1931</option>
				          	<option value="1930">1930</option>
				          	<option value="1929">1929</option>
				          	<option value="1928">1928</option>
				          	<option value="1927">1927</option>
				          	<option value="1926">1926</option>
				          	<option value="1925">1925</option>
				          	<option value="1924">1924</option>
				          	<option value="1923">1923</option>
				          	<option value="1922">1922</option>
				          	<option value="1921">1921</option>
				          	<option value="1920">1920</option>
				          	<option value="1919">1919</option>
				          	<option value="1918">1918</option>
				          	<option value="1917">1917</option>
				          	<option value="1916">1916</option>
				          	<option value="1915">1915</option>
				          	<option value="1914">1914</option>
				          	<option value="1913">1913</option>
				          	<option value="1912">1912</option>
				          	<option value="1911">1911</option>
				          	<option value="1910">1910</option>
				          	<option value="1909">1909</option>
				          	<option value="1908">1908</option>
				          	<option value="1907">1907</option>
				          	<option value="1906">1906</option>
				          	<option value="1905">1905</option>
				          	<option value="1904">1904</option>
				          	<option value="1903">1903</option>
				          	<option value="1902">1902</option>
				          	<option value="1901">1901</option>
				          	<option value="1900">1900</option>
			     		</select>
			     	</span>
			  	</div>
			   	<div class="inline-flex fright">
			     	<p class="p">// Enter Birthdate - It helps you get you best offers on your special day </p>
			   	</div>
			</div><br>
	       	<button type="button" class="edit-btn">Edit Email</button>
	       	<p class="invalid-msg" id="email-error">Invalid Email</p>
	       	<div class="form-inline">
	          	<div class="form-group">
	              	<input type="text" class="form-control" id="email" placeholder="Email" name="email" />
	          	</div>
	          	<div class="form-group" id="email-verification-btn">
	             	<button  class="verified-btn" type="button" onclick="sendVerificationEmail();">Send Verification Email</button>
	          	</div>
	          	<div class="form-group" id="email-verification-msg" style="display:none;">
	             	<p class="email-sent-txt">Verification Email Sent <a href="javascript:resendVerificationEmail();" class="resend-btn">Resend</a></p>
	             	<p class="link"> Click to the link to verify &#38; use your account</p>
	          	</div>
	          	<div class="form-group" id="email-verified-icon" style="display:none;">
	             	<p class="verified-txt"><img src="<?php echo asset_url();?>images/done-icon.png" alt="Phynart" />Verified</p>
	          	</div>
	    	</div>
	      	<button type="button" class="edit-btn">Edit Mobile Number</button>
	      	<p class="invalid-msg" id="mobile-error">Invalid Mobile Number</p>
	       	<div class="form-inline">
	          	<div class="form-group">
	              	<input type="text" class="form-control" id="mobile" placeholder="Mobile No" name="mobile" />
	          	</div>
	          	<div class="form-group" id="mobile-verification-btn">
	             	<button class="verified-btn" type="button" onclick="sendVerificationSms();">Send Verification Code</button>
	          	</div>
	          	<div class="form-group" id="mobile-verification-rebtn" style="display:none;">
	             	<button class="verified-btn" type="button" onclick="resendVerificationSms();">Resend Verification Code</button>
	          	</div>
	          	<div class="form-group" id="mobile-verified-icon" style="display:none;">
	             	<p class="verified-txt"><img src="<?php echo asset_url();?>images/done-icon.png" />Verified</p>
	          	</div>
	     	</div>
	       	<p class="message-send invalid-msg" id="otp-error"></p>
	       	<div class="OTP-verification-div">
	         	<div class="form-inline">
	           		<div class="form-group">
	              		<input type="text" class="form-control" id="otp" placeholder="OTP" name="otp">
	           		</div>
	      		</div>
	      		<button type="button" class="spl-btn" onclick="verifyMobileOtp();">Verify</button> 
	       	</div>
	        <br><br>
	       	<div class="row">
	           	<div class="col-lg-6 col-md-6 col-sm-7">
	               	<div class="form-inline">
	                  	<div class="form-group">
	                      	<input type="password" class="form-control pwd"  id="password" placeholder="Create password" name="password" />
	                  	</div>
	                  	<div class="form-group" id="password-strength" style="display:none;">
	                    	<div class="progress">
	                      		<div class="progress-bar progress-bar-danger" id="password-progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0px;">
	                        		<span class="sr-only" id="strength-message">Poor</span>
	                        		<span id="progress-bar-text" style="color:#000;"></span>
	                      		</div>
	                    	</div>
	                  	</div>
	                  	<div class="form-group" id="password-verified-icon" style="display:none;">
	                     	<p class="verified-txt"><img src="<?php echo asset_url();?>images/done-icon.png" alt="Phynart" /></p>
	                  	</div>
	            	</div>
	               	<div class="form-inline">
	                  	<div class="form-group">
	                      	<input type="password" class="form-control" id="confirm_password" placeholder="Confirm your password" name="confirm_password" />
	                  	</div>
	                  	<div class="form-group" id="cpassword-verified-icon" style="display:none;">
	                     	<p class="verified-txt"><img src="<?php echo asset_url();?>images/done-icon.png" alt="Phynart"/></p>
	                  	</div>
	               	</div>
	           	</div>
	           	<div class="col-lg-6 col-md-6 col-sm-5">
	               	<ul>
	                 	<li><img src="<?php echo asset_url();?>images/done-icon.png" alt="Phynart" /> + Be a minimum of eight(8) characters in length.</li>
	                 	<li><img src="<?php echo asset_url();?>images/done-icon.png" alt="Phynart" /> + Contain at least one uppercase letter(A-Z)</li>
	                 	<li><img src="<?php echo asset_url();?>images/done-icon.png" alt="Phynart" /> + Contain at least one lowercase letter(a-z)</li>
	                 	<li><img src="<?php echo asset_url();?>images/done-icon.png" alt="Phynart" /> + Contain at least one Digit(0-9)</li>
	                 	<li><img src="<?php echo asset_url();?>images/done-icon.png" alt="Phynart" /> + Contain at least one special character(!@#$%^&*()+_=)</li>
	               	</ul>
	           	</div>
	       	</div>
	       	<br><hr>
	       	<div class="form-inline">
	          	<a  href="<?php echo base_url();?>welcome-message" class="spl-btn fright">Next</a>
	       	</div>
	  	</form>
	</div>
</div>
<script src="<?php echo asset_url();?>js/password-strength.js"></script>
<script>
document.getElementById("timer").innerHTML = 30 + ":" + 00;
startTimer();
emailStartTimer();

function startTimer() {
  var presentTime = document.getElementById("timer").innerHTML;
  var timeArray = presentTime.split(/[:]+/);
  var m = timeArray[0];
  var s = checkSecond(timeArray[1] - 1);
  if (s == 59) {
    m = m - 1;
  }
  //if(m<0){alert('timer completed')}
  document.getElementById("timer").innerHTML = m + " " +":" + " " + s;
  setTimeout(startTimer, 1000);
}

function checkSecond(sec) {
  if (sec < 10 && sec >= 0) {
    sec = "0" + sec;
  } // add zero in front of numbers < 10
  if (sec < 0) {
    sec = "59";
  }
  return sec;
}

function emailStartTimer() {
	isEmailVerified();
	setTimeout(emailStartTimer, 12000);
}
function sendVerificationEmail() {
	jQuery("#email-error").hide();
	if(validateEmail(jQuery("#email").val())) {
		jQuery.post(base_url+"signup/sendverificationemail",{ email: jQuery("#email").val()},function(data){
			if(data.status == 1) {
				jQuery("#email-verification-btn").hide();
				jQuery("#email-verification-msg").show();
			} else {
				jQuery("#email-verification-btn").show();
				jQuery("#email-verification-msg").hide();
				jQuery("#email-error").html(data.msg);
				jQuery("#email-error").show();
			}
		},'json');
	} else {
		if(jQuery("#email").val() == "") {
			jQuery("#email-error").html("Enter a valid Email");
			jQuery("#email-error").show();
		} else {
			jQuery("#email-error").html("Invalid Email");
			jQuery("#email-error").show();
		}
	}
}
function resendVerificationEmail() {
	jQuery.post(base_url+"signup/sendverificationemail",{ email: jQuery("#email").val()},function(data){
		jQuery("#email-verification-btn").hide();
		jQuery("#email-verification-msg").show();
	},'json');
}

function sendVerificationSms() {
	jQuery("#mobile-error").hide();
	if(phonenumber(jQuery("#mobile").val())) {
		jQuery.post(base_url+"signup/sendverificationsms",{ mobile: jQuery("#mobile").val()},function(data){
			jQuery("#mobile-verification-btn").hide();
			jQuery("#mobile-verification-rebtn").show();
		},'json');
	} else {
		jQuery("#mobile-error").html("Enter Valid Mobile");
		jQuery("#mobile-error").show();
	}
}

function resendVerificationSms() {
	jQuery.post(base_url+"signup/sendverificationsms",{ mobile: jQuery("#mobile").val()},function(data){
		jQuery("#mobile-verification-btn").hide();
		jQuery("#mobile-verification-rebtn").show();
	},'json');
}

function isEmailVerified() {
	if($("#email").val() != "" && validateEmail($("#email").val())) {
		jQuery.post(base_url+"signup/isemailverified",{ email: jQuery("#email").val()},function(data){
			if(data.status == 1) {
				jQuery("#email-verification-btn").hide();
				jQuery("#email-verification-msg").hide();
				jQuery("#email-verified-icon").show();
			}
		},'json');
	}
}

function verifyMobileOtp() {
	jQuery.post(base_url+"signup/verifymobile",{ mobile: jQuery("#mobile").val(), otp: jQuery("#otp").val()},function(data){
		if(data.status == 1) {
			jQuery("#mobile-verification-btn").hide();
			jQuery("#mobile-verification-rebtn").hide();
			jQuery("#otp-error").hide();
			jQuery("#mobile-verified-icon").show();
		} else {
			jQuery("#mobile-verification-btn").hide();
			jQuery("#mobile-verified-icon").hide();
			jQuery("#mobile-verification-rebtn").show();
			jQuery("#otp-error").html(data.msg);
			jQuery("#otp-error").show();
		}
	},'json');
}

$("#email" ).keypress(function() {
	jQuery("#email-verification-btn").show();
	jQuery("#email-verification-msg").hide();
	jQuery("#email-verified-icon").hide();
	jQuery("#email-error").hide();
});
$("#mobile" ).keypress(function() {
	jQuery("#mobile-verification-btn").show();
	jQuery("#mobile-verification-rebtn").hide();
	jQuery("#mobile-verified-icon").hide();
	jQuery("#mobile-error").hide();
});
$("#password" ).keypress(function() {
	if(jQuery(this).val() != "") {
		checkPasswordStrength(jQuery(this).val(),jQuery("#password-progress-bar"),jQuery("#strength-message"));
		jQuery("#password-strength").show();
		jQuery("#password-progress-bar").attr("aria-valuenow",50);
	} else {
		jQuery("#password-strength").hide();
	}
});


function validateEmail(email) {
    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(String(email).toLowerCase());
}

function phonenumber(inputtxt)
{
  	var phoneno = /^\d{10}$/;
  	if(inputtxt.match(phoneno)) {
      	return true;
	} else {
        return false;
  	}
}

function checkPasswordStrength(txtpass,progress_bar,message)
{
	var desc = new Array();
    desc[0] = "Poor";
    desc[1] = "Weak";
    desc[2] = "Better";
    desc[3] = "Medium";
    desc[4] = "Strong";
    desc[5] = "Strongest";
	
	  var score   = 0;
	  //if txtpass bigger than 6 give 1 point
	  if (txtpass.length > 6) score++;
	
	  //if txtpass has both lower and uppercase characters give 1 point
	  if ( ( txtpass.match(/[a-z]/) ) && ( txtpass.match(/[A-Z]/) ) ) score++;
	
	  //if txtpass has at least one number give 1 point
	  if (txtpass.match(/\d+/)) score++;
	
	  //if txtpass has at least one special caracther give 1 point
	  if ( txtpass.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/) ) score++;
	
	  //if txtpass bigger than 12 give another 1 point
	  if(score >=4 ) {
	  	if (txtpass.length > 8) score++;
	  	if (txtpass.length > 12) score++;
	  }
	  var width = 75/6*score;
	  progress_bar.css("width",width);
	  message.html(desc[score]);
	  if(score == 0 || score == 1) {
		  message.css("color","#cf3d35");
	  } else if(score == 2 || score == 3) {
		  message.css("color","#50C878");
	  } else if(score == 4 || score == 5) {
		  message.css("color","#29AB87");
	  }
		  
}

</script>